/*! GAMIFIVE SDK - v0.1 - 25-11-2014
* http://gamifive.com/
* Copyright (c) 2014 Gamifive; Licensed MIT */

!function(a){function b(a){"connected"===a.status?d():"not_authorized"===a.status?console.log("Please log into this app."):FB.login(function(a){console.log(a.authResponse?"Welcome!  Fetching your information.... ":"User cancelled login or did not fully authorize.")},{scope:"user_friends"})}function c(){!function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk")}function d(){console.log("Welcome!  Fetching your information.... "),FB.api("/me",function(a){console.log("Successful login for: "+a.name),console.log(a)})}function e(){function a(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return"?"+b.join("&")}var b={version:"0.1.2"},c={logEnabled:!1,httpEnabled:!0};Date.now||(Date.now=function(){return(new Date).getTime()});var d=function(){return function(a,b,c){var d=new XMLHttpRequest;return d.onreadystatechange=function(){4===d.readyState&&c&&c(d.responseText)},d.open(a,b),d.send(),d}}(),e=function(){var a=window.GamifiveInfo||{};b.userId=a.userId,b.label=a.label,b.appId=a.contentId,c.logEnabled&&console.log("GamefiveSDK->init",b)};this.updateConfig=function(a){"object"!=typeof a&&(a={}),c.logEnabled=a.logEnabled||c.logEnabled,c.httpEnabled=a.httpEnabled||c.httpEnabled},this.startSession=function(){c.logEnabled&&console.log("GamefiveSDK.startSession",arguments),b.timestart=Date.now()},this.endSession=function(e){c.logEnabled&&console.log("GamefiveSDK.endSession",arguments),b.timeend=Date.now();var f=a({newapps:1,appId:b.appId,label:b.label,userId:b.userId,start:b.timestart,duration:b.timeend-b.timestart,score:parseFloat(e.score)||0});c.httpEnabled&&d("GET","/v01/leaderboard"+f)},this.status=function(){return b},this.fbInvite=function(){d("GET","https://graph.facebook.com/me/friends",function(a){console.log(a)})},e()}window.fbAsyncInit=function(){function a(a){var b=document.body,d=document.createElement("form");d.id="mfsForm";for(var e=0;e<Math.min(a.data.length,10);e++){var f=document.createElement("div");f.id="friend_"+a.data[e].id,f.innerHTML='<input type="checkbox" name="friends" value="'+a.data[e].id+'" />'+a.data[e].name,d.appendChild(f)}b.appendChild(d);var g=document.createElement("input");g.type="button",g.value="Send Request",g.onclick=c,d.appendChild(g)}function c(){for(var a="",b=document.getElementById("mfsForm"),c=0;c<b.friends.length;c++)b.friends[c].checked&&(a+=b.friends[c].value+",");FB.ui({method:"apprequests",to:a,title:"My Great Invite",message:"Check out this Awesome App!"},function(a){console.log(a)})}FB.init({appId:"218613018316690",cookie:!0,xfbml:!1,version:"v2.1"}),FB.inviteFriends=function(){FB.api("/me/invitable_friends",function(b){b&&!b.error&&(console.log("invitable_friends",b),a(b))})},FB.getLoginStatus(function(a){b(a)})},window.FBStart=c,a.GamefiveSDK=new e}(window);
//# sourceMappingURL=gfsdk-0.1.min.js.map